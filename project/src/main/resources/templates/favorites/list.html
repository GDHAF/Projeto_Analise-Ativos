<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Meus Favoritos</title>
    <style>
        :root {
            /* ... suas variáveis de cor ... */
            --bg-color: #1a1a2e;
            --card-color: #2c2c44;
            --text-color: #ffffff;
            --button-color-remove: #da3633;
            --button-hover-remove: #f85149;
        }
        body { background-color: var(--bg-color); color: var(--text-color); font-family: Arial, sans-serif; }
        .container { max-width: 800px; margin: 50px auto; padding: 20px; background: var(--card-color); border-radius: 8px; }
        h1 { color: #fff; border-bottom: 2px solid #58a6ff; padding-bottom: 10px; }
        ul { list-style: none; padding: 0; }
        li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--input-bg);
            font-size: 1.1em;
        }
        .remove-btn {
            background-color: var(--button-color-remove);
            color: #fff;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .remove-btn:hover {
            background-color: var(--button-hover-remove);
        }
        .message-success { color: #3fb950; margin-bottom: 15px; }
        .message-error { color: #ff5252; margin-bottom: 15px; }
    </style>
</head>
<body>

<div class="container">
    <a th:href="@{/dashboard/dash}" style="color: #58a6ff; text-decoration: none;">← Voltar ao Dashboard</a>

    <h1>⭐ Meus Ativos Favoritos</h1>

    <div th:if="${successMessage}" class="message-success">
        <span th:text="${successMessage}"></span>
    </div>
    <div th:if="${errorMessage}" class="message-error">
        <span th:text="${errorMessage}"></span>
    </div>

    <div th:if="${favoritos.empty}">
        <p>Você não tem ativos favoritos cadastrados ainda.</p>
    </div>

    <ul th:unless="${favoritos.empty}">
        <li th:each="fav : ${favoritos}">

            <a th:href="@{/details/historical/{nome}(nome=${fav.codigoAtivo})}" style="color: #fff; text-decoration: none;">
                <span th:text="${fav.codigoAtivo}"></span>
            </a>

            <form th:action="@{/favorites/remove}" method="post" style="display: inline;">
                <input type="hidden" name="codigoAtivo" th:value="${fav.codigoAtivo}">
                <button type="submit" class="remove-btn">Remover</button>
            </form>
        </li>
    </ul>

</div>

</body>
</html>